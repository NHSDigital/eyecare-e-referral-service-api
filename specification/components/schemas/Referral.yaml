title: Referral
type: object
description: ''
properties:
  urgent:
    type: string
    enum:
      - notUrgent
      - urgent
      - emergencyASAP
      - emergency24Hours
  dateOfSightTest:
    $ref: 'Date.yaml'
  dateOfReferral:
    $ref: 'Date.yaml'
  reasonForReferral:
    type: string
  patient:
    $ref: 'Patient.yaml'
  guardian:
    type: object
    properties:
      name:
        $ref: 'Name.yaml'
      address:
        $ref: 'Address.yaml'
  referrer:
    $ref: '#/components/schemas/Referrer'
  GP:
    type: object
    properties:
      name:
        $ref: 'Name.yaml'
      practice:
        $ref: '#/components/schemas/Practice'
  GPAction:
    type: string
    enum:
      - informationOnly
      - adviseReferralToEyeDept
      - patientSentToCasualty
      - patientAskedToTelephoneOrVisitGP
  referTo:
    oneOf:
      - type: string
        adultClinic:
        enum:
          - cataract
          - cornea
          - diabeticMedicalRetina
          - externalEyeDisease
          - glaucoma
          - laserYAG
          - lowVision
          - oculoplasticsOrbitsLacrimal
          - otherMedicalRetina
          - squintOcularMotility
          - vitreolineal
          - notOtherwiseSpecified
      - type: string
        childClinic:
        enum:
          - strabismus
          - amblyopia
          - paediatricNonStrabismus
          - orthopticOnly
  clinicalTerms:
    type: array
    items:
      type: string
  refraction:
    $ref: 'Refraction.yaml'
  additionalClinicalFindings:
    type: object
    properties:
      intraocularPressureTime:
        type: string
        format: time
        description: >-
          The time of the intraocular pressure reading in ISO 8601
          compliant format
      tonometerUsed:
        type: string
      fieldsInstrumentUsed:
        type: string
      right:
        $ref: 'AdditionalClinicalFindings.yaml'
      left:
        $ref: 'AdditionalClinicalFindings.yaml'
  cycloplegicRefraction:
    type: boolean
  dilatedFundusExamination:
    type: boolean
  additionalInformation:
    type: string
  pmsWebhookCallback:
    type: string
    description: Placeholder for callback API
    format: uri